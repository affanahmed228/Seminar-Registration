<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seminar Registration with Camera</title>
    <link rel="stylesheet" href="style.css">
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <h1>Seminar Registration with Photo Capture</h1>
        
        <!-- Registration Form Section -->
        <div class="form-section">
            <h2>Registration Form</h2>
            <form id="registrationForm">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required>
                    <span class="error-message" id="nameError"></span>
                </div>

                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" required>
                    <span class="error-message" id="emailError"></span>
                </div>

                <div class="form-group">
                    <label for="phone">Phone *</label>
                    <input type="tel" id="phone" name="phone" required>
                    <span class="error-message" id="phoneError"></span>
                </div>

                <div class="form-group">
                    <label for="company">Company</label>
                    <input type="text" id="company" name="company">
                </div>

                <div class="form-group">
                    <label for="position">Position</label>
                    <input type="text" id="position" name="position">
                </div>

                <div class="form-group">
                    <label for="seminarTopic">Seminar Topic *</label>
                    <select id="seminarTopic" name="seminarTopic" required>
                        <option value="">Select a topic</option>
                        <option value="Web Development">Web Development</option>
                        <option value="Data Science">Data Science</option>
                        <option value="Machine Learning">Machine Learning</option>
                        <option value="Cyber Security">Cyber Security</option>
                        <option value="Cloud Computing">Cloud Computing</option>
                    </select>
                    <span class="error-message" id="topicError"></span>
                </div>

                <div class="form-group">
                    <label for="dietary">Dietary Requirements</label>
                    <select id="dietary" name="dietary">
                        <option value="None">None</option>
                        <option value="Vegetarian">Vegetarian</option>
                        <option value="Vegan">Vegan</option>
                        <option value="Gluten-Free">Gluten-Free</option>
                        <option value="Dairy-Free">Dairy-Free</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="comments">Comments</label>
                    <textarea id="comments" name="comments" rows="4"></textarea>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="submitBtn">Complete Registration</button>
                    <button type="button" class="btn btn-secondary" id="resetBtn">Reset Form</button>
                </div>
            </form>
        </div>

        <!-- Camera Section -->
        <div class="camera-section">
            <h2>Take Profile Photo</h2>
            
            <div id="cameraNotSupported" class="warning-message" style="display: none;">
                ‚ö†Ô∏è Camera may not work on some mobile browsers. Please use Chrome or Firefox.
            </div>
            
            <video id="videoElement" autoplay playsinline muted></video>
            <canvas id="canvas" style="display: none;"></canvas>
            
            <div class="camera-controls">
                <button id="startButton" class="btn btn-primary">üé• Start Camera</button>
                <button id="stopButton" class="btn btn-secondary" disabled>‚èπÔ∏è Stop Camera</button>
                <button id="captureButton" class="btn btn-success" disabled>üì∏ Capture Photo</button>
            </div>
            
            <div class="photo-preview">
                <h3>Current Profile Photo:</h3>
                <div id="currentPhoto">
                    <p style="color: #666;">No photo taken yet</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Response Message -->
    <div id="responseMessage" class="response-message"></div>

    <script src="javascript.js"></script>
</body>
</html>